export { theme } from './theme'
import { Head, Heading, Image, Code, Split, SplitWithHeading, Primary, Secondary, Boom, Explosion, Bar } from './theme'
import { Box } from '@rebass/grid'
import Stack from 'stack-styled'
import XText from './assets/inconsistent-styles-full/code/Text'
import XHeading from './assets/inconsistent-styles-full/code/Heading'
import XBox from './assets/inconsistent-styles-full/code/Box'
import XInput from './assets/inconsistent-styles-full/code/Input'
import XButton from './assets/inconsistent-styles-full/code/Button'

<Head>
  <title>Custom CSS is the path to inconsistent UI by Artem Sapegin</title>
</Head>

export default Primary

<Heading>Custom CSS is the path to inconsistent UI</Heading>

---
export default Secondary

<Heading is="p">What’s the issue?</Heading>

---

<img src={require("file-loader!./assets/images/inconsistent-styles-full/buttons.jpg")} alt="Inconsistent buttons" />

---

<img src={require("file-loader!./assets/images/inconsistent-styles-full/text.png")} alt="Inconsistent text" />

---

<Image src={require("file-loader!./assets/images/inconsistent-styles-full/doors.jpg")} alt="Inconsistency in the UI" />

---
export default SplitWithHeading

## Custom CSS

```css
.description {
  margin-bottom: 20px;
  font-size: 16px;
}
```

```css
.count {
  margin-left: 0.75em;
  font-size: 14px;
  opacity: 0.5;
}
```

---

<Explosion symbol="😭" />

---

<Heading>CSS is too powerful</Heading>

---
export default Secondary

<Heading is="p">How can we fix that?</Heading>

---
export default Primary

<Heading>Design tokens</Heading>

---

<a href="https://marvelapp.com/styleguide/design/color-scheme">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-colors.png")} alt="Design tokens: colors" />
</a>

---

<a href="https://cloudflare.github.io/cf-ui/#cf-design-gradients">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-gradients.png")} alt="Design tokens: gradients" />
</a>

---

<a href="https://vueds.com/example/#!/Design%20Tokens">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-fonts-spacing.png")} alt="Design tokens: fonts and spacing" />
</a>

---

<a href="https://www.lightningdesignsystem.com/design-tokens/">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-misc.png")} alt="Design tokens" />
</a>

---
export default SplitWithHeading

## Custom CSS & design tokens

```css
.description {
  margin-bottom: var(--spacing--3);
  font-size: var(--fontSize--base);
}
```

```css
.count {
  margin-left: var(--spacing--2);
  font-size: var(--fontSize--small);
  color: var(--color--light);
}
```

---

<Explosion symbol="😐" />

---

<Heading is="p">Not all token combinations are good</Heading>

---

```css
.cant__read_this {
  font-size: var(--fontSize--x-small);
  color: var(--color--light);
  opacity: 0.5;
}
```

---
export default Secondary

<Heading is="p">Can we do better?</Heading>

---
export default Boom

<Heading is="p" huge>YES!</Heading>

---

<Heading>Stop writing CSS!</Heading>

---
export default Primary

<Heading>Primitive components</Heading>

---

## Sources of custom CSS

- Typography
- Whitespace
- Layout

---
export default Secondary

<Heading is="h2">Typography</Heading>

---
export default Secondary

<Heading is="h3">Text</Heading>

---

<a href="https://polaris.shopify.com/components/titles-and-text/text-style">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/example-text.png")} alt="Text component" />
</a>

---

<a href="http://mineral-ui.com/components/text">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/example-text-2.png")} alt="Another text component" />
</a>

---

## Styles

* Normal text
* Secondary text (light color)
* Error (red color)
* etc.

---

<Heading>Find minimal number of styles to cover most of the use cases of your app or site</Heading>

---

## What else?

* Custom HTML element
* Alignment (left, center)
* Whitespace (margin)
* Truncation (with …)

---

## API: Selecting a style

* `<Text secondary>` 😀
* `<Text error>` 😀
* `<Text secondary error>` 😭

---

## API: Selecting a style

* `<Text variant="secondary">` 😀
* `<Text variant="error">` 😀

---

<Heading is="p">Make impossible states impossible</Heading>

---

## API: Selecting a style

* `<Text color="red" size="xs">` 😭
* `<Text variant="secondary">` 😀

---

## API: Custom HTML element

* `<Text>` → `<p>` 😭
* `<Text inline>` → `<span>` 😭
* `<Text is="span">` → `<span>` 😀
* `<Text is="header">` → `<header>` 😀

---
export default SplitWithHeading

## Example

```jsx
<Text>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are “sight”
  hounds — hunting by sight — and
  run their quarry down to kill
  or retrieve it.
</Text>
<Text variant="secondary">
  Don’t leave any food on a table
  when saluki is around.
</Text>
```

<XText>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are “sight”
  hounds — hunting by sight — and
  run their quarry down to kill
  or retrieve it.
</XText>
<XText variant="secondary">
  Don’t leave any food on a table
  when saluki is around.
</XText>

---
export default Secondary

<Heading is="h3">Heading</Heading>

---

<a href="https://vueds.com/example/#/Elements/Heading">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/example-heading.png")} alt="Heading component" />
</a>

---

## API: Selecting size & heading level

* `<Heading level={1}>` 😀
* `<Heading level={2}>` 😀
* `<Heading level={3} is="h2">` 😀

---
export default SplitWithHeading

## Example

```jsx
<Heading level={1}>Saluki</Heading>
<Text>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are “sight”
  hounds — hunting by sight — and
  run their quarry down to kill
  or retrieve it.
</Text>
<Heading level={2}>Caveats</Heading>
<Text variant="secondary">
  Don’t leave any food on a table
  when saluki is around.
</Text>
```

<React.Fragment>
  <XHeading level={1}>Saluki</XHeading>
  <XText>
    The Saluki is classed as a sighthound
    and is typically deep-chested and
    long-legged. Salukis are “sight”
    hounds — hunting by sight — and
    run their quarry down to kill
    or retrieve it.
  </XText>
  <XHeading level={2}>Caveats</XHeading>
  <XText variant="secondary">
    Don’t leave any food on a table
    when saluki is around.
  </XText>
</React.Fragment>

---

<Explosion symbol="😀" />

---
export default Secondary

<Heading is="h2">Whitespace</Heading>

---
export default SplitWithHeading

## Spacing scales

### Linear progression

<Stack gap={2}>
  <Bar width="12.5%">4px</Bar>
  <Bar width="25%">8px</Bar>
  <Bar width="37.5%">12px</Bar>
  <Bar width="50%">16px</Bar>
  <Bar width="62.5%">20px</Bar>
  <Bar width="75%">24px</Bar>
  <Bar width="87.5%">28px</Bar>
  <Bar width="100%">32px</Bar>
</Stack>

### Geometric progression

<Stack gap={2}>
  <Bar width="3.125%">2px</Bar>
  <Bar width="6.25%">4px</Bar>
  <Bar width="12.5%">8px</Bar>
  <Bar width="25%">16px</Bar>
  <Bar width="50%">32px</Bar>
  <Bar width="100%">64px</Bar>
</Stack>

---

## Scale naming

* x-small small medium large x-large
* xs s m l xl
* alpha beta gamma delta epsilon
* 1, 2, 3, 4 5
* 1000, 2000, 3000, 4000, 5000

---

```js
const space = {
  xxs: '2px',
  xs: '4px',
  s: '8px',
  m: '16px',
  l: '32px',
  xl: '64px',
  xxl: '128px'
};
```

---

```js
const space = {
  xxs: '0.125rem',
  xs: '0.25rem',
  s: '0.5rem',
  m: '1rem',
  l: '2rem',
  xl: '3rem',
  xxl: '4rem'
};
```

---

## Paddings

```jsx
<Box
  p="xl"
  pt="xl"
  pr="xl"
  pb="xl"
  pl="xl"
  px="xl"
  py="xl"
/>
```

---

## Paddings

```jsx
const Button = props => (
  <Box is="button" px="m" py="s" {...props} />
);
```

---

## Margins

```jsx
<Box
  m="xl"
  mt="xl"
  mr="xl"
  mb="xl"
  ml="xl"
  mx="xl"
  my="xl"
/>
```

---
export default SplitWithHeading

## Margins

```jsx
<Box mb="xl" is="section">
  <Box mb="l">
    <Heading level={1}>Saluki</Heading>
  </Box>
  <Text>The Saluki is classed...</Text>
</Box>
<Box mb="xl" is="section">
  <Box mb="l">
    <Heading level={2}>Caveats</Heading>
  </Box>
  <Text variant="secondary">
    Don’t leave any food on a table...
  </Text>
</Box>
```

<XBox mb="l">
	<XBox mb="m">
		<XHeading level={1}>Saluki</XHeading>
  </XBox>
	<XText>
		The Saluki is classed as a sighthound
		and is typically deep-chested and
		long-legged. Salukis are “sight”
		hounds — hunting by sight — and
		run their quarry down to kill
		or retrieve it.
	</XText>
</XBox>
<XBox mb="l">
  <XBox mb="m">
    <XHeading level={2}>Caveats</XHeading>
  </XBox>
  <XText variant="secondary">
    Don’t leave any food on a table
    when saluki is around.
  </XText>
</XBox>

---

## Flexbox layouts

```jsx
<Flex
  alignItems="center"
  justifyContent="center"
  flexDirection="row"
  flexWrap="wrap"
/>
```

---
export default SplitWithHeading

## Flexbox layouts

```jsx
<Flex is="form">
  <Box flex={1}>
    <Input
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </Box>
  <Box pl="m">
    <Button variant="primary" type="submit">
      Subscribe
    </Button>
  </Box>
</Flex>
```

<XBox style={{display: 'flex'}}>
  <XBox style={{flex: 1}}>
    <XInput
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </XBox>
  <XBox pl="m">
    <XButton variant="primary" type="submit">
      Subscribe
    </XButton>
  </XBox>
</XBox>

---

## Responsive layouts

```jsx
<Box
  width={[ 1, 1/2, 1/4 ]}
  m={[ 's', 'm', 'l' ]}
/>
```

---
export default SplitWithHeading

## Responsive layouts

```jsx
<Flex is="form" flexWrap="wrap">
  <Box flex={1}>
    <Input
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </Box>
  <Box pl={[0, 'm']} pt={['m', 0]}
      width={[1, 'auto']}>
    <Button variant="primary" type="submit">
      Subscribe
    </Button>
  </Box>
</Flex>
```

<XBox style={{display: 'flex', flexWrap: 'wrap' }}>
  <XBox style={{flex: 1}}>
    <XInput
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </XBox>
  <XBox pt="m"style={{width: '100%'}}>
    <XButton variant="primary" type="submit">
      Subscribe
    </XButton>
  </XBox>
</XBox>

---

## CSS Grid layouts

```jsx
<Stack
  gap="m"
  gridColumn="..."
  gridRow="..."
  gridAutoFlow="..."
  gridAutoRows="..."
/>
```

---
export default SplitWithHeading

## CSS Grid layouts

```jsx
<Grid gap="m"
  gridTemplateColumns="
    repeat(
      auto-fit,
      minmax(200px, 1fr)
    )
">
  <Image src="dog1.jpg" alt="Dessi" />
  <Image src="dog2.jpg" alt="Tsiri" />
  <Image src="dog3.jpg" alt="Twiggy" />
</Grid>
```

<Stack gap={3} minWidth={200}>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog1.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog2.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog3.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog4.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog5.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog6.jpg")} alt="" style={{maxWidth: '100%'}} />
</Stack>

---

## Example

```jsx
<Grid gridTemplateColumns={`
  minmax(${theme.space.m}, 1fr)
  minmax(auto, 57ch)
  minmax(${theme.space.m}, 1fr)
}`>
  <Grid gridColumn="1/4">
    <Box mb="m">
      <Image src="tsiri.jpg" alt="Tsiri" />
    </Box>
  </Grid>
  <Grid gridColumn="2">
    <Heading level={1}>Saluki</Heading>
    {/* .... */}
  </Grid>
</Grid>
```

---

<Stack gridTemplateColumns="minmax(1rem, 1fr) minmax(auto, 55rem) minmax(1rem, 1fr)">
  <Stack gridColumn="1/4">
    <XBox mb="m">
      <img src={require("file-loader!./assets/images/inconsistent-styles-full/tsiri.jpg")} alt="" style={{maxWidth: '100%'}} />
    </XBox>
  </Stack>
  <Stack gridColumn="2">
    <XBox mb="l">
      <XBox mb="m">
        <XHeading level={1}>Saluki</XHeading>
      </XBox>
      <XText>
        The Saluki is classed as a sighthound
        and is typically deep-chested and
        long-legged. Salukis are “sight”
        hounds — hunting by sight — and
        run their quarry down to kill
        or retrieve it.
      </XText>
    </XBox>
    <XBox mb="l">
      <XBox mb="m">
        <XHeading level={2}>Caveats</XHeading>
      </XBox>
      <XText variant="secondary">
        Don’t leave any food on a table
        when saluki is around.
      </XText>
    </XBox>
  </Stack>
</Stack>

---

<Code
  // title={() => <h2>Example implementation</h2>}
  code={require("!raw-loader!./assets/inconsistent-styles-full/code/Text.js")}
  lang="javascript"
  steps={[
    { lines: [2] },
    { lines: [3] },
    { lines: [5] },
    { lines: [7] },
    { range: [9, 10] },
    { range: [11, 17] },
    { range: [18, 24] },
    { range: [27, 30] },
  ]}
/>

---

## Components

- Limited freedom → consistency
- Discoverable API
- Faster development
- Readable code

---

## Components

- Easier code reviews
- Easier to document
- TypeScript and Flow
- Built-in accessibility

---
export default Boom

<Heading is="p">Hide CSS in components and compose your app UI from them</Heading>

---

<Explosion symbol="🃏" />

---

## Tools

* [Text](https://github.com/component-driven/component-driven-development/tree/master/src/components/core/Text)
* [Heading](https://github.com/component-driven/component-driven-development/tree/master/src/components/core/Heading)
* [styled-system](https://jxnblk.com/styled-system/)
* [Rebass Grid](https://rebassjs.org/grid)
* [Stack Styled](https://sapegin.github.io/stack-styled/)

---

### Thank you and use components!

Slides: [bit.ly/consistent-css](https://sapegin.github.io/slides/inconsistent-styles)<br/> Me: [sapegin.me](http://sapegin.me/)<br/> Twitter: [@iamsapegin](https://twitter.com/iamsapegin)<br/> GitHub: [sapegin](https://github.com/sapegin)

<img src={require("file-loader!./assets/images/dogs.jpg")} style={{height: '35vh'}} />

---

## Image credits

- [Max Stoiber](https://mxstbr.com/)
- [Priyanka Godbole](https://blog.prototypr.io/10-practical-steps-to-create-a-predictable-accessible-and-harmonious-typography-system-a-case-6c85d901bedd)
- [Nathan Curtis](https://medium.com/eightshapes-llc/space-in-design-systems-188bcbae0d62)
- [Brad Frost](http://bradfrost.com/blog/post/interface-inventory/)
