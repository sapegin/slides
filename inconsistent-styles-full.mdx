export { theme } from './theme'
import React from 'react';
import { Box, Head, Heading, Image, Appear, Center, Split, SplitWithHeading, CoverWayfair, Primary, Secondary, Code, List, Boom, Bar, Delay } from './theme'
import Stack from 'stack-styled/emotion/Stack'
import XText from './assets/inconsistent-styles-full/code/Text'
import XHeading from './assets/inconsistent-styles-full/code/Heading'
import XBox from './assets/inconsistent-styles-full/code/Box'
import XInput from './assets/inconsistent-styles-full/code/Input'
import XButton from './assets/inconsistent-styles-full/code/Button'

<CoverWayfair>
  <Head>
    <title>Custom CSS is the path to inconsistent UI by Artem Sapegin</title>
  </Head>
  <Heading>Custom CSS is the path to inconsistent UI</Heading>
</CoverWayfair>

---

<Split>

<>

### Artem Sapegin

[@iamsapegin](https://twitter.com/iamsapegin)<br/>
Wayfair<br />
Berlin, Germany

</>

<video src={require("file-loader!./assets/images/me.mov")} autoplay="autoplay" loop="loop" style={{objectFit: 'cover', width: '100%', height: '100vh'}}></video>

</Split>

---

<Center>

<img src={require("file-loader!./assets/images/react-styleguidist.svg")} alt="React Styleguidist" style={{display: 'block', margin: 'auto'}} />

[react-styleguidist.js.org](https://react-styleguidist.js.org/)

</Center>

---

<Secondary>
  <Heading as="p">What‚Äôs the issue?</Heading>
</Secondary>

---

<Center>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/buttons.jpg")} alt="Inconsistent buttons" />
</Center>

---

<Center>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/text.png")} alt="Inconsistent text" />
</Center>

---

<Center>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/doors.jpg")} alt="Inconsistency in the UI" />
</Center>

---

## Sources of custom CSS

<List>
  <li>Typography</li>
  <li>Whitespace & layout</li>
</List>

---

<SplitWithHeading>

## Custom CSS

```css
.description {
  margin-bottom: 20px;
  font-size: 16px;
}
```

```css
.count {
  margin-left: 0.75em;
  font-size: 14px;
  opacity: 0.5;
}
```

</SplitWithHeading>

---

<Center>
  <Heading as="p">CSS is too expressive</Heading>
</Center>

<!-- With CSS you can create infinite button designs but in your app you probably want only one button design. -->

---

<Secondary>
  <Heading as="p">Can we fix that?</Heading>
</Secondary>

---

<Primary>
  <Heading>Design tokens</Heading>
</Primary>

---

<Center>
  <a href="https://marvelapp.com/styleguide/design/color-scheme">
    <img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-colors.png")} alt="Design tokens: colors" />
  </a>
</Center>

---

<Center>
  <a href="https://cloudflare.github.io/cf-ui/#cf-design-gradients">
    <img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-gradients.png")} alt="Design tokens: gradients" />
  </a>
</Center>

---

<Center>
  <a href="https://vueds.com/example/#!/Design%20Tokens">
    <img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-fonts-spacing.png")} alt="Design tokens: fonts and spacing" />
  </a>
</Center>

---

<Center>
  <a href="https://www.lightningdesignsystem.com/design-tokens/">
    <img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-misc.png")} alt="Design tokens" />
  </a>
</Center>

---

<Boom>
  <Heading as="p">Design tokens are everything you use more than once in your styles</Heading>
</Boom>

---

## Design tokens implementation

<List>
  <li>Sass variables</li>
  <li>CSS custom properties</li>
  <li>JavaScript constants</li>
  <li>JSON</li>
</List>

---

<SplitWithHeading>

## Custom CSS & design tokens

```css
.description {
  margin-bottom: var(--spacing--3);
  font-size: var(--fontSize--base);
}
```

```css
.count {
  margin-left: var(--spacing--2);
  font-size: var(--fontSize--small);
  color: var(--color--light);
}
```

</SplitWithHeading>

---

<Center>
  <Heading as="p">Not all token combinations are good</Heading>
</Center>

---

<SplitWithHeading>

## Bad token combinations

<div style={{width: "40vw"}}>

```css
.cant__read_this {
  font-size: var(--fontSize--x-small);
  color: var(--color--light);
}
```

</div>

<div style={{width: "40vw"}}>
  <div style={{fontSize: '2vmax', color: '#eee'}}>Can you read me?!</div>
</div>

</SplitWithHeading>

---

<Secondary>
  <Heading as="p">Can we do better?</Heading>
</Secondary>

---

<Boom>
  <Heading>Stop writing CSS!</Heading>
</Boom>

---

<Primary>
  <Heading>Primitive components</Heading>
</Primary>

---

<Secondary>
  <Heading as="h2"><b>1. Typography</b><br />2. Spacing & layout</Heading>
</Secondary>

---

<Center>
  <a href="https://polaris.shopify.com/components/titles-and-text/text-style">
    <img src={require("file-loader!./assets/images/inconsistent-styles-full/example-text.png")} alt="Text component" />
  </a>
</Center>

---

<Center>
  <a href="http://mineral-ui.com/components/text">
    <img src={require("file-loader!./assets/images/inconsistent-styles-full/example-text-2.png")} alt="Another text component" />
  </a>
</Center>

---

## Text styles

<ul>
  <li>Normal text</li>
  <li style={{color: '#979797', fontSize: '80%'}}>Secondary text</li>
  <li style={{color: '#930'}}>Error</li>
  <li>etc.</li>
</ul>

---

<Boom>
  <Heading>Minimal number of styles for most of your use cases</Heading>
</Boom>

---

## What else?

<List>
  <li>Custom HTML element (p, span, label)</li>
  <li>Alignment (left, center)</li>
  <li>Whitespace (margin)</li>
</List>

---

## API: selecting a style

<List>
  <li><code>&lt;Text primary&gt;</code> üòÄ</li>
  <li><code>&lt;Text secondary&gt;</code> üòÄ</li>
  <li><code>&lt;Text primary secondary&gt;</code> üò≠</li>
</List>

---

## API: selecting a style

<List>
  <li><code>&lt;Text variant="primary"&gt;</code> üòÄ</li>
  <li><code>&lt;Text variant="secondary"&gt;</code> üòÄ</li>
</List>

---

<Boom>
  <Heading as="p">Make impossible states impossible</Heading>
</Boom>

---

## API: rigidity vs flexibility

<List>
  <li><code>&lt;Text variant="secondary"&gt;</code> üòÄ</li>
  <li><code>&lt;Text color="red" size="xs"&gt;</code> üòÄ</li>
</List>

---

## API: custom HTML element

<List>
  <li><code>&lt;Text&gt;</code> ‚Üí <code>&lt;p&gt;</code> üòÄ</li>
  <li><code>&lt;Text inline&gt;</code> ‚Üí <code>&lt;span&gt;</code> üòê</li>
  <li><code>&lt;Text label&gt;</code> ‚Üí <code>&lt;label&gt;</code> üò≠</li>
  <li><code>&lt;Text as="label"&gt;</code> ‚Üí <code>&lt;label&gt;</code> üòÄ</li>
</List>

---

<SplitWithHeading>

## Example

```jsx
<Text>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are ‚Äúsight‚Äù
  hounds ‚Äî hunting by sight ‚Äî and
  run their quarry down to kill
  or retrieve it.
</Text>
<Text as="small" variant="secondary">
  Don‚Äôt leave any food on a table
  when saluki is around.
</Text>
```

<XText>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are ‚Äúsight‚Äù
  hounds ‚Äî hunting by sight ‚Äî and
  run their quarry down to kill
  or retrieve it.
</XText>
<XText variant="secondary">
  Don‚Äôt leave any food on a table
  when saluki is around.
</XText>

</SplitWithHeading>

---

<SplitWithHeading>

## Example

```jsx
<Heading size={1}>Saluki</Heading>
<Text>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are ‚Äúsight‚Äù
  hounds ‚Äî hunting by sight ‚Äî and
  run their quarry down to kill
  or retrieve it.
</Text>
<Heading size={2}>Caveats</Heading>
<Text as="small" variant="secondary">
  Don‚Äôt leave any food on a table
  when saluki is around.
</Text>
```

<React.Fragment>
  <XHeading level={1}>Saluki</XHeading>
  <XText>
    The Saluki is classed as a sighthound
    and is typically deep-chested and
    long-legged. Salukis are ‚Äúsight‚Äù
    hounds ‚Äî hunting by sight ‚Äî and
    run their quarry down to kill
    or retrieve it.
  </XText>
  <XHeading level={2}>Caveats</XHeading>
  <XText variant="secondary">
    Don‚Äôt leave any food on a table
    when saluki is around.
  </XText>
</React.Fragment>

</SplitWithHeading>

---

<Secondary>
  <Heading as="h2">1. Typography<br /><b>2. Spacing & layout</b></Heading>
</Secondary>


---

<Center>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/doors.jpg")} alt="Inconsistency in the UI" />
</Center>

---

<SplitWithHeading>

## Spacing scales

### Linear progression

<Stack gap={2}>
  <Bar width="12.5%">4px</Bar>
  <Bar width="25%">8px</Bar>
  <Bar width="37.5%">12px</Bar>
  <Bar width="50%">16px</Bar>
  <Bar width="62.5%">20px</Bar>
  <Bar width="75%">24px</Bar>
  <Bar width="87.5%">28px</Bar>
  <Bar width="100%">32px</Bar>
</Stack>

### Geometric progression

<Stack gap={2}>
  <Bar width="3.125%">2px</Bar>
  <Bar width="6.25%">4px</Bar>
  <Bar width="12.5%">8px</Bar>
  <Bar width="25%">16px</Bar>
  <Bar width="50%">32px</Bar>
  <Bar width="100%">64px</Bar>
</Stack>

</SplitWithHeading>

---

## Scale naming

<List>
  <li>x-small small medium large x-large</li>
  <li>xs sm md lg xl</li>
  <li>xs s m l xl</li>
  <li>1 2 3 4 5</li>
  <li><del>alpha beta gamma delta epsilon</del></li>
</List>

---

<SplitWithHeading>

## Spacing scale

```js
const space = {
  xxs: '2px',
  xs: '4px',
  s: '8px',
  m: '16px',
  l: '32px',
  xl: '64px',
  xxl: '128px'
};
```

```js
const space = {
  xxs: '0.125rem',
  xs: '0.25rem',
  s: '0.5rem',
  m: '1rem',
  l: '2rem',
  xl: '3rem',
  xxl: '4rem'
};
```

</SplitWithHeading>

---

<SplitWithHeading>

## Margins and padding

```jsx
<Box mb="xl" as="section">
  <Box mb="l">
    <Heading level={1}>Saluki</Heading>
  </Box>
  <Text>The Saluki is classed...</Text>
</Box>
```

<XBox mb="l">
	<XBox mb="m">
		<XHeading level={1}>Saluki</XHeading>
  </XBox>
	<XText>
		The Saluki is classed as a sighthound
		and is typically deep-chested and
		long-legged. Salukis are ‚Äúsight‚Äù
		hounds ‚Äî hunting by sight ‚Äî and
		run their quarry down to kill
		or retrieve it.
	</XText>
</XBox>

</SplitWithHeading>

---

## Flexbox layouts

```jsx
<Flex
  alignItems="center"
  justifyContent="center"
  flexDirection="row"
  flexWrap="wrap"
/>
```

---

<SplitWithHeading>

## Flexbox layouts

```jsx
<Flex as="form">
  <Box flexGrow={1}>
    <Input
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </Box>
  <Box pl="m">
    <Button variant="primary" type="submit">
      Subscribe
    </Button>
  </Box>
</Flex>
```

<XBox style={{display: 'flex'}}>
  <XBox style={{flexGrow: 1}}>
    <XInput
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </XBox>
  <XBox pl="m">
    <XButton variant="primary" type="submit">
      Subscribe
    </XButton>
  </XBox>
</XBox>

</SplitWithHeading>

---

## Responsive layouts

```jsx
//         mobile  tablet  desktop
<Box
  width={[ 1,      1/2,    1/4    ]}
  m={[     's',    'm',    'l'    ]}
/>
```

---

## CSS Grid layouts

```jsx
<Grid
  gridGap="m"
  gridColumn="..."
  gridRow="..."
  gridAutoFlow="..."
  gridAutoRows="..."
/>
```

---

<SplitWithHeading>

## CSS Grid layouts

```jsx
<Grid gridGap="m"
  gridTemplateColumns="
    repeat(
      auto-fit,
      minmax(200px, 1fr)
    )
">
  <Image src="dog1.jpg" alt="Dessi" />
  <Image src="dog2.jpg" alt="Tsiri" />
  <Image src="dog3.jpg" alt="Twiggy" />
</Grid>
```

<Stack gap={3} minWidth={200}>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog1.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog2.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog3.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog4.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog5.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog6.jpg")} alt="" style={{maxWidth: '100%'}} />
</Stack>

</SplitWithHeading>

---

<Secondary>
  <Heading as="h2">Implementation</Heading>
</Secondary>

---

## Plain CSS

<Code language="jsx" code={require("!raw-loader!./assets/inconsistent-styles-full/code/Box-css.js").default} />

---

## Na√Øve CSS in JS

<Code language="jsx" code={require("!raw-loader!./assets/inconsistent-styles-full/code/Box.js").default.replace('@emotion/styled', 'styled-components')} />

---

## [styled-system](https://styled-system.com/)<br/><small>by Brent Jackson</small>

<List>
  <li>Build primitive UI components</li>
  <li>Control styles with props</li>
  <li>Design tokens</li>
  <li>Responsive props</li>
  <li>Margins, padding, colors, fonts, Flexbox, CSS Grid, etc.</li>
  <li>styled-components, Emotion, etc.</li>
</List>

---

## styled-system

<Code language="jsx" code={require("!raw-loader!./assets/inconsistent-styles-full/code/Box-system.js").default} />

---

<Primary>
  <Heading>Recap</Heading>
</Primary>

---

## Why use primitives

<List columns={2}>
  <li>Consistency</li>
  <li>Discoverable API</li>
  <li>Faster development</li>
  <li>Code reuse</li>
  <li>Code reviews</li>
  <li>Documentation</li>
  <li>Accessibility</li>
  <li>Common language</li>
</List>

---

<Boom>
  <Heading as="p">CSS ‚Üí Preprocessors ‚Üí CSS in JS ‚Üí Primitives</Heading>
</Boom>

<!-- I belive you shound't write CSS in the application code but hide it in primitive components, and compose your use interface from these components. -->

---

<Center>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/napkin.jpg")} alt="Mockup on a napkin" />
</Center>

<!-- Because with a good design system you can create a perfect user interface even if it's drawn on a napkin -->

---

<Center>

<a href="https://component-driven.io">
  <img src={require("file-loader!./assets/images/component-driven.svg")} alt="component-driven.io" style={{display: 'block', margin: 'auto'}} />
</a>

[component-driven.io](https://component-driven.io/)

</Center>

---

## Libraries and examples

* [Text](https://github.com/component-driven/component-driven-development/tree/master/src/components/core/Text)
* [Heading](https://github.com/component-driven/component-driven-development/tree/master/src/components/core/Heading)
* Box & Flex: [Rebass Grid](https://rebassjs.org/grid)
* Grid (Stack): [Stack Styled](https://sapegin.github.io/stack-styled/)
* [styled-system](https://jxnblk.com/styled-system/)

---

### Thank you and use components!

Slides: [bit.ly/usecomponents](https://sapegin.github.io/slides/inconsistent-styles-full/)<br/> Me: [sapegin.me](http://sapegin.me/)<br/> Twitter: [@iamsapegin](https://twitter.com/iamsapegin)

<img src={require("file-loader!./assets/images/dogs.jpg")} style={{height: '35vh'}} />

---

## Image credits

- [Max Stoiber](https://mxstbr.com/)
- [Priyanka Godbole](https://blog.prototypr.io/10-practical-steps-to-create-a-predictable-accessible-and-harmonious-typography-system-a-case-6c85d901bedd)
- [Nathan Curtis](https://medium.com/eightshapes-llc/space-in-design-systems-188bcbae0d62)
- [Brad Frost](http://bradfrost.com/blog/post/interface-inventory/)
