export { theme } from './theme'
import React from 'react';
import { Box, Head, Heading, Image, Appear, Split, SplitWithHeading, CoverWayfair, Primary, Secondary, Boom, Explosion, Bar } from './theme'
import Stack from 'stack-styled/emotion/Stack'
import XText from './assets/inconsistent-styles-full/code/Text'
import XHeading from './assets/inconsistent-styles-full/code/Heading'
import XBox from './assets/inconsistent-styles-full/code/Box'
import XInput from './assets/inconsistent-styles-full/code/Input'
import XButton from './assets/inconsistent-styles-full/code/Button'

<CoverWayfair>
  <Head>
    <title>Custom CSS is the path to inconsistent UI by Artem Sapegin</title>
  </Head>
  <Heading>Custom CSS is the path to inconsistent UI</Heading>
</CoverWayfair>

---

TODO: Slide about me

---

<img src={require("file-loader!./assets/images/react-styleguidist.svg")} alt="React Styleguidist" style={{display: 'block', margin: 'auto'}} />

[react-styleguidist.js.org](https://react-styleguidist.js.org/)

---

<Secondary>
  <Heading as="p">What’s the issue?</Heading>
</Secondary>

---

<img src={require("file-loader!./assets/images/inconsistent-styles-full/buttons.jpg")} alt="Inconsistent buttons" />

---

<img src={require("file-loader!./assets/images/inconsistent-styles-full/text.png")} alt="Inconsistent text" />

---

<img src={require("file-loader!./assets/images/inconsistent-styles-full/doors.jpg")} alt="Inconsistency in the UI" />

---

## Custom CSS

<ul>
  <Appear>
    <li>Typography</li>
    <li>Whitespace</li>
    <li>Layout</li>
  </Appear>
</ul>

---

<SplitWithHeading>

## Custom CSS

```css
.description {
  margin-bottom: 20px;
  font-size: 16px;
}
```

```css
.count {
  margin-left: 0.75em;
  font-size: 14px;
  opacity: 0.5;
}
```

</SplitWithHeading>

---

<Explosion symbol="😭" />

---

<Heading>CSS is too powerful</Heading>

---

<Secondary>
  <Heading as="p">How can we fix that?</Heading>
</Secondary>

---

<Primary>
  <Heading>Design tokens</Heading>
</Primary>

---

<a href="https://marvelapp.com/styleguide/design/color-scheme">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-colors.png")} alt="Design tokens: colors" />
</a>

---

<a href="https://cloudflare.github.io/cf-ui/#cf-design-gradients">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-gradients.png")} alt="Design tokens: gradients" />
</a>

---

<a href="https://vueds.com/example/#!/Design%20Tokens">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-fonts-spacing.png")} alt="Design tokens: fonts and spacing" />
</a>

---

<a href="https://www.lightningdesignsystem.com/design-tokens/">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/design-tokens-misc.png")} alt="Design tokens" />
</a>

---

## Design tokens

<ul>
  <Appear>
    <li>Sass variables</li>
    <li>CSS custom properties</li>
    <li>JavaScript variables</li>
    <li>JSON</li>
  </Appear>
</ul>

---

<SplitWithHeading>

## Custom CSS & design tokens

```css
.description {
  margin-bottom: var(--spacing--3);
  font-size: var(--fontSize--base);
}
```

```css
.count {
  margin-left: var(--spacing--2);
  font-size: var(--fontSize--small);
  color: var(--color--light);
}
```

</SplitWithHeading>

---

<Explosion symbol="😐" />

---

<Heading as="p">Not all token combinations are good</Heading>

---

```css
.cant__read_this {
  font-size: var(--fontSize--x-small);
  color: var(--color--light);
  opacity: 0.5;
}
```

---

<Secondary>
  <Heading as="p">Can we do better?</Heading>
</Secondary>

---

<Boom>
  <Heading as="p" huge>YES!</Heading>
</Boom>

---

<Heading>Stop writing CSS!</Heading>

---

<Primary>
  <Heading>Primitive components</Heading>
</Primary>

---

<Secondary>
  <Heading as="h2">Typography</Heading>
</Secondary>

---

<Secondary>
  <Heading as="h3">Text</Heading>
</Secondary>

---

<a href="https://polaris.shopify.com/components/titles-and-text/text-style">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/example-text.png")} alt="Text component" />
</a>

---

<a href="http://mineral-ui.com/components/text">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/example-text-2.png")} alt="Another text component" />
</a>

---

## Text styles

* Normal text
* Secondary text (gray or small)
* Error (red)
* etc.

---

<Heading>Minimal number of styles for most of your use cases</Heading>

---

## What else?

<ul>
  <Appear>
    <li>Custom HTML element</li>
    <li>Alignment (left, center)</li>
    <li>Whitespace (margin)</li>
    <li>Truncation (with …)</li>
  </Appear>
</ul>

---

## API: Selecting a style

<ul>
  <Appear>
    <li><code>&lt;Text primary&gt;</code> 😀</li>
    <li><code>&lt;Text secondary&gt;</code> 😀</li>
    <li><code>&lt;Text primary secondary&gt;</code> 😭</li>
  </Appear>
</ul>

---

## API: Selecting a style

<ul>
  <Appear>
    <li><code>&lt;Text variant="primary"&gt;</code> 😀</li>
    <li><code>&lt;Text variant="secondary"&gt;</code> 😀</li>
  </Appear>
</ul>

---

## API: Selecting a style

<ul>
  <Appear>
    <li><code>&lt;Text color="red" size="xs"&gt;</code> 😭</li>
    <li><code>&lt;Text variant="secondary"&gt;</code> 😀</li>
  </Appear>
</ul>

---

<Heading as="p">Make impossible states impossible</Heading>

---

## API: Custom HTML element

<ul>
  <Appear>
    <li><code>&lt;Text&gt;</code> → <code>&lt;p&gt;</code> 😐</li>
    <li><code>&lt;Text inline&gt;</code> → <code>&lt;span&gt;</code> 😭</li>
    <li><code>&lt;Text as="span"&gt;</code> → <code>&lt;span&gt;</code> 😀</li>
    <li><code>&lt;Text as="header"&gt;</code> → <code>&lt;header&gt;</code> 😀</li>
  </Appear>
</ul>

---

<SplitWithHeading>

## Example

```jsx
<Text>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are “sight”
  hounds — hunting by sight — and
  run their quarry down to kill
  or retrieve it.
</Text>
<Text as="small" variant="secondary">
  Don’t leave any food on a table
  when saluki is around.
</Text>
```

<XText>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are “sight”
  hounds — hunting by sight — and
  run their quarry down to kill
  or retrieve it.
</XText>
<XText variant="secondary">
  Don’t leave any food on a table
  when saluki is around.
</XText>

</SplitWithHeading>

---

<Secondary>
  <Heading as="h3">Heading</Heading>
</Secondary>

---

<a href="https://vueds.com/example/#/Elements/Heading">
	<img src={require("file-loader!./assets/images/inconsistent-styles-full/example-heading.png")} alt="Heading component" />
</a>

---

## API: Selecting heading level

<ul>
  <Appear>
    <li><code>&lt;Heading level=&#123;1}&gt;</code> 😀</li>
    <li><code>&lt;Heading level=&#123;2}&gt;</code> 😀</li>
    <li><code>&lt;Heading level=&#123;3} as="h2"&gt;</code> 😀</li>
  </Appear>
</ul>

---

<SplitWithHeading>

## Example

```jsx
<Heading level={1}>Saluki</Heading>
<Text>
  The Saluki is classed as a sighthound
  and is typically deep-chested and
  long-legged. Salukis are “sight”
  hounds — hunting by sight — and
  run their quarry down to kill
  or retrieve it.
</Text>
<Heading level={2}>Caveats</Heading>
<Text as="small" variant="secondary">
  Don’t leave any food on a table
  when saluki is around.
</Text>
```

<React.Fragment>
  <XHeading level={1}>Saluki</XHeading>
  <XText>
    The Saluki is classed as a sighthound
    and is typically deep-chested and
    long-legged. Salukis are “sight”
    hounds — hunting by sight — and
    run their quarry down to kill
    or retrieve it.
  </XText>
  <XHeading level={2}>Caveats</XHeading>
  <XText variant="secondary">
    Don’t leave any food on a table
    when saluki is around.
  </XText>
</React.Fragment>

</SplitWithHeading>

---

<Explosion symbol="😀" />

---

<Secondary>
  <Heading as="h2">Whitespace</Heading>
</Secondary>

---

<SplitWithHeading>

## Spacing scales

### Linear progression

<Stack gap={2}>
  <Bar width="12.5%">4px</Bar>
  <Bar width="25%">8px</Bar>
  <Bar width="37.5%">12px</Bar>
  <Bar width="50%">16px</Bar>
  <Bar width="62.5%">20px</Bar>
  <Bar width="75%">24px</Bar>
  <Bar width="87.5%">28px</Bar>
  <Bar width="100%">32px</Bar>
</Stack>

### Geometric progression

<Stack gap={2}>
  <Bar width="3.125%">2px</Bar>
  <Bar width="6.25%">4px</Bar>
  <Bar width="12.5%">8px</Bar>
  <Bar width="25%">16px</Bar>
  <Bar width="50%">32px</Bar>
  <Bar width="100%">64px</Bar>
</Stack>

</SplitWithHeading>

---

## Scale naming

<ul>
  <Appear>
    <li>x-small small medium large x-large</li>
    <li>xs s m l xl</li>
    <li>alpha beta gamma delta epsilon</li>
    <li>1 2 3 4 5</li>
    <li>1000 2000 3000 4000 5000</li>
  </Appear>
</ul>

---

```js
const space = {
  xxs: '2px',
  xs: '4px',
  s: '8px',
  m: '16px',
  l: '32px',
  xl: '64px',
  xxl: '128px'
};
```

---

```js
const space = {
  xxs: '0.125rem',
  xs: '0.25rem',
  s: '0.5rem',
  m: '1rem',
  l: '2rem',
  xl: '3rem',
  xxl: '4rem'
};
```

---

## Padding

```jsx
<Box
  p="xl"
  pt="xl"
  pr="xl"
  pb="xl"
  pl="xl"
  px="xl"
  py="xl"
/>
```

---

## Padding

```jsx
const Button = props => (
  <Box as="button" px="m" py="s" {...props} />
);
```

---

## Margins

```jsx
<Box
  m="xl"
  mt="xl"
  mr="xl"
  mb="xl"
  ml="xl"
  mx="xl"
  my="xl"
/>
```

---

<SplitWithHeading>

## Margins

```jsx
<Box mb="xl" as="section">
  <Box mb="l">
    <Heading level={1}>Saluki</Heading>
  </Box>
  <Text>The Saluki is classed...</Text>
</Box>
<Box mb="xl" as="section">
  <Box mb="l">
    <Heading level={2}>Caveats</Heading>
  </Box>
  <Text as="small" variant="secondary">
    Don’t leave any food on a table...
  </Text>
</Box>
```

<XBox mb="l">
	<XBox mb="m">
		<XHeading level={1}>Saluki</XHeading>
  </XBox>
	<XText>
		The Saluki is classed as a sighthound
		and is typically deep-chested and
		long-legged. Salukis are “sight”
		hounds — hunting by sight — and
		run their quarry down to kill
		or retrieve it.
	</XText>
</XBox>
<XBox mb="l">
  <XBox mb="m">
    <XHeading level={2}>Caveats</XHeading>
  </XBox>
  <XText variant="secondary">
    Don’t leave any food on a table
    when saluki is around.
  </XText>
</XBox>

</SplitWithHeading>

---

## Flexbox layouts

```jsx
<Flex
  alignItems="center"
  justifyContent="center"
  flexDirection="row"
  flexWrap="wrap"
/>
```

---

<SplitWithHeading>

## Flexbox layouts

```jsx
<Flex as="form">
  <Box flexGrow={1}>
    <Input
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </Box>
  <Box pl="m">
    <Button variant="primary" type="submit">
      Subscribe
    </Button>
  </Box>
</Flex>
```

<XBox style={{display: 'flex'}}>
  <XBox style={{flexGrow: 1}}>
    <XInput
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </XBox>
  <XBox pl="m">
    <XButton variant="primary" type="submit">
      Subscribe
    </XButton>
  </XBox>
</XBox>

</SplitWithHeading>

---

## Responsive layouts

```jsx
<Box
  width={[ 1, 1/2, 1/4 ]}
  m={[ 's', 'm', 'l' ]}
/>
```

---

<SplitWithHeading>

## Responsive layouts

```jsx
<Flex as="form" flexWrap="wrap">
  <Box flexGrow={1}>
    <Input
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </Box>
  <Box pl={[0, 'm']} pt={['m', 0]}
      width={[1, 'auto']}>
    <Button variant="primary" type="submit">
      Subscribe
    </Button>
  </Box>
</Flex>
```

<XBox style={{display: 'flex', flexWrap: 'wrap' }}>
  <XBox style={{flexGrow: 1}}>
    <XInput
      type="email"
      defaultValue=""
      placeholder="Email"
      aria-label="Email"
    />
  </XBox>
  <XBox pt="m"style={{width: '100%'}}>
    <XButton variant="primary" type="submit">
      Subscribe
    </XButton>
  </XBox>
</XBox>

</SplitWithHeading>

---

## CSS Grid layouts

```jsx
<Grid
  gap="m"
  gridColumn="..."
  gridRow="..."
  gridAutoFlow="..."
  gridAutoRows="..."
/>
```

---

<SplitWithHeading>

## CSS Grid layouts

```jsx
<Grid gap="m"
  gridTemplateColumns="
    repeat(
      auto-fit,
      minmax(200px, 1fr)
    )
">
  <Image src="dog1.jpg" alt="Dessi" />
  <Image src="dog2.jpg" alt="Tsiri" />
  <Image src="dog3.jpg" alt="Twiggy" />
</Grid>
```

<Stack gap={3} minWidth={200}>
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog1.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog2.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog3.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog4.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog5.jpg")} alt="" style={{maxWidth: '100%'}} />
  <img src={require("file-loader!./assets/images/inconsistent-styles-full/dog6.jpg")} alt="" style={{maxWidth: '100%'}} />
</Stack>

</SplitWithHeading>

---

<Secondary>
  <Heading as="h2">Implementation</Heading>
</Secondary>

---

## Naïve implementation

```jsx
import styled from '@emotion/styled';
import theme from './theme';

const Box = styled.div`
	min-width: 0;
	margin: $\{props => theme.space[props.m]};
	margin-left: $&#123;props => theme.space[props.ml]};
	margin-top: $&#123;props => theme.space[props.mt]};
	margin-right: $&#123;props => theme.space[props.mr]};
	margin-bottom: $&#123;props => theme.space[props.mb]};
	padding: $&#123;props => theme.space[props.p]};
	padding-left: $&#123;props => theme.space[props.pl]};
	padding-top: $&#123;props => theme.space[props.pt]};
	padding-right: $&#123;props => theme.space[props.pr]};
	padding-bottom: $&#123;props => theme.space[props.pb]};
`;

export default Box;
```

---

## [styled-system](https://styled-system.com/)

* Build primitive UI components
* Control styles with props
* Design tokens
* Responsive props
* Margins, padding, colors, fonts, Flexbox, CSS Grid, etc.
* styled-components, Emotion, etc.

---

## styled-system

```js
import styled from 'styled-components';
import { space } from 'styled-system';

export default styled.div`
	min-width: 0;
	$&#123;space};
`;
```

---

## Components

<ul>
  <Appear>
    <li>Limited freedom → consistency</li>
    <li>Discoverable API</li>
    <li>Faster development</li>
    <li>Code reuse</li>
  </Appear>
</ul>

---

## Components

<ul>
  <Appear>
    <li>Easier code reviews</li>
    <li>Easier to document</li>
    <li>TypeScript and Flow</li>
    <li>Built-in accessibility</li>
  </Appear>
</ul>

---

<Boom>
  <Heading as="p">Hide CSS in components and compose your app UI from them</Heading>
</Boom>

---

<Explosion symbol="🃏" />

---

## Libraries and examples

* [Text](https://github.com/component-driven/component-driven-development/tree/master/src/components/core/Text)
* [Heading](https://github.com/component-driven/component-driven-development/tree/master/src/components/core/Heading)
* Box & Flex: [Rebass Grid](https://rebassjs.org/grid)
* Grid (Stack): [Stack Styled](https://sapegin.github.io/stack-styled/)
* [styled-system](https://jxnblk.com/styled-system/)

---

### Thank you and use components!

Slides: [bit.ly/usecomponents](https://sapegin.github.io/slides/inconsistent-styles-full/)<br/> Me: [sapegin.me](http://sapegin.me/)<br/> Twitter: [@iamsapegin](https://twitter.com/iamsapegin)

<img src={require("file-loader!./assets/images/dogs.jpg")} style={{height: '35vh'}} />

---

## Image credits

- [Max Stoiber](https://mxstbr.com/)
- [Priyanka Godbole](https://blog.prototypr.io/10-practical-steps-to-create-a-predictable-accessible-and-harmonious-typography-system-a-case-6c85d901bedd)
- [Nathan Curtis](https://medium.com/eightshapes-llc/space-in-design-systems-188bcbae0d62)
- [Brad Frost](http://bradfrost.com/blog/post/interface-inventory/)
